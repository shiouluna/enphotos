<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ENYOUSHIOU Photography</title>
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Noto+Sans+TC&display=swap"
        rel="stylesheet"
    />
    <style>
        /* Base Styles */
        body {
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            background: #f0f0f0; /* Light grey background */
            color: #222; /* Dark text */
            line-height: 1.6;
        }

        /* Header Styles - Matches screenshot */
        header {
            background: #222; /* Dark grey, almost black */
            color: white;
            padding: 0.6em 0;
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 2em;
            letter-spacing: 0.1em;
            user-select: none;
        }
        header span {
            font-size: 0.6em;
            display: block;
            font-family: Arial, sans-serif; /* Smaller text below title */
            letter-spacing: 0.2em;
            font-weight: normal;
            margin-top: 0.1em;
        }

        /* Navigation Bar Styles - Matches screenshot */
        nav {
            background: #444; /* Slightly lighter dark grey */
            display: flex;
            align-items: center;
            justify-content: space-between; /* Space between social icons and nav links */
            padding: 0.8em 1.5em; /* Adjusted padding for better spacing */
            flex-wrap: wrap; /* Allows wrapping on smaller screens */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */
        }
        .social-icons {
            display: flex;
            align-items: center;
        }
        .social-icons a {
            color: white;
            margin-right: 0.8em; /* Spacing between icons */
            font-size: 1.4em;
            transition: color 0.3s ease;
        }
        .social-icons a:hover {
            color: #9acd32; /* Yellow-green hover color */
        }
        .nav-links {
            flex-grow: 1; /* Allows nav links to take available space */
            text-align: center; /* Centers the navigation links */
        }
        .nav-links a {
            color: white;
            margin: 0 1.1em; /* Spacing between nav links */
            font-weight: bold;
            text-decoration: none;
            font-size: 1.1em;
            user-select: none;
            transition: color 0.3s ease;
            padding: 5px 0; /* Add padding for a larger clickable area */
        }
        .nav-links a:hover,
        .nav-links a.active {
            text-decoration: underline;
            color: #9acd32; /* Yellow-green hover/active color */
        }

        /* Main Content Area */
        main {
            max-width: 900px;
            margin: 2em auto;
            padding: 0 1em;
        }

        /* Section Specific Styles - For SPA */
        .content-section {
            display: none; /* Hidden by default, shown by JS */
            background: white;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2em; /* Space between sections if multiple were visible */
        }
        .content-section.active {
            display: block; /* Active section is visible */
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: #222;
            margin-top: 0;
        }
        h1 { font-size: 2.2em; margin-bottom: 0.5em; }
        h2 { font-size: 1.8em; margin-bottom: 0.8em; }
        h3 { font-size: 1.5em; margin-bottom: 0.6em; }

        p {
            line-height: 1.5;
            font-size: 1.05em;
            margin-bottom: 1em;
        }

        /* Home Section Specific Styles */
        #home-section {
            text-align: center;
        }
        #home-section p {
            max-width: 700px;
            margin: 0.5em auto 1.5em auto;
        }

        /* Carousel Styles */
        .carousel-container-outer {
            margin-top: 2em;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
            background: #fff;
            padding: 1em 1em 1.5em;
        }
        .carousel {
            position: relative;
            overflow: hidden;
        }
        .carousel-item {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 0 1em 1em 1em;
            box-sizing: border-box;
            color: #222;
            text-align: left;
        }
        .carousel-item.active {
            display: block;
            position: relative;
        }
        .carousel-item img {
            width: 100%;
            height: auto;
            max-height: 400px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 0.7em;
            user-select: none;
        }
        .caption h3 {
            margin: 0 0 0.4em 0;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 1.5em;
        }
        .caption p {
            white-space: pre-wrap;
            font-size: 0.95em;
            line-height: 1.4;
            color: #444;
        }
        .carousel-controls {
            margin-top: 1.5em;
            text-align: center;
        }
        .carousel-controls button {
            background: #222;
            color: white;
            border: none;
            padding: 0.5em 1.3em;
            margin: 0 0.5em;
            border-radius: 6px;
            font-weight: bold;
            font-family: 'Noto Sans TC', sans-serif;
            cursor: pointer;
            transition: background-color 0.3s ease;
            user-select: none;
        }
        .carousel-controls button:hover {
            background: #9acd32;
            color: #222;
        }

        /* About Section Specific Styles */
        #about-section {
            text-align: center;
        }
        .about-photo {
            width: 280px;
            height: auto;
            margin: 1.5em auto;
            display: block;
            object-fit: contain;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        #about-section p {
            text-align: left; /* Align text to left within about section */
            max-width: 700px; /* Constrain width of about text */
            margin: 0.5em auto 1em auto;
        }
        #about-section h3 {
            text-align: left; /* Align subheadings to left */
            max-width: 700px; /* Constrain width of subheadings */
            margin: 1em auto 0.5em auto;
        }

        /* Assignment Section Specific Styles */
        #assignment-section {
            text-align: center;
        }
        .poster, .video {
            margin: 1.5em auto; /* Center items */
            max-width: 700px; /* Max width for content within these boxes */
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            background: white;
            padding: 1em;
        }
        .poster img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            user-select: none;
        }
        iframe {
            width: 100%;
            max-width: 640px; /* Max width for videos */
            height: 360px; /* Fixed height for video aspect ratio */
            border: none;
            border-radius: 10px;
        }

        /* Reviews Section Specific Styles */
        #reviews-section {
            text-align: center;
        }
        #reviews-section iframe {
            height: 700px; /* Larger height for the Google Form */
        }

        /* Contact Section Specific Styles */
        #contact-section {
            text-align: center;
        }
        .contact-info {
            max-width: 600px;
            margin: 1.5em auto;
            text-align: left; /* Align contact info to the left */
            font-size: 1.1em;
            line-height: 1.8;
            background: white;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .contact-info p {
            display: flex;
            align-items: center;
            margin-bottom: 0.8em;
            color: #222;
        }
        .contact-info i {
            margin-right: 10px;
            color: #444; /* Icon color similar to nav background */
            font-size: 1.2em;
        }
        .contact-info a {
            color: #444;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .contact-info a:hover {
            color: #9acd32;
            text-decoration: underline;
        }

        /* Music Toggle Button */
        .music-toggle {
            position: fixed;
            left: 10px;
            top: 10px;
            z-index: 9999;
            background: white;
            border: 1px solid #ccc;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 22px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: background-color 0.3s, transform 0.2s;
        }
        .music-toggle:hover {
            background-color: #f0f0f0;
            transform: scale(1.05);
        }
        .music-toggle i {
            color: #555;
        }
        .music-toggle.playing i {
            color: #9acd32;
        }

        /* Footer Styles */
        footer {
            background: #222; /* Matches header background */
            color: white;
            text-align: center;
            padding: 1.5em 0;
            margin-top: 3em; /* Space from last section */
            font-size: 0.9em;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                align-items: center;
                padding: 0.8em 1em;
            }
            .social-icons {
                margin-bottom: 0.8em;
            }
            .nav-links {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
            }
            .nav-links a {
                margin: 0.5em 0.8em;
                font-size: 1em;
            }
            h1 { font-size: 1.8em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.3em; }
            .carousel-item img {
                max-height: 250px;
            }
            iframe {
                height: 250px; /* Adjust video height for mobile */
            }
            #reviews-section iframe {
                height: 500px; /* Adjust form height for mobile */
            }
            .contact-info {
                padding: 1.5em;
            }
        }

        @media (max-width: 480px) {
            header {
                font-size: 1.5em;
            }
            header span {
                font-size: 0.5em;
            }
            .nav-links a {
                margin: 0.5em 0.5em;
                font-size: 0.9em;
            }
            .social-icons a {
                font-size: 1.2em;
            }
            .carousel-controls button {
                padding: 0.4em 1em;
                font-size: 0.9em;
            }
            .carousel-item img {
                max-height: 200px;
            }
            iframe {
                height: 200px;
            }
            #reviews-section iframe {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <button class="music-toggle" onclick="toggleMusic()" aria-label="切換背景音樂播放" title="切換背景音樂播放">
        <i class="fas fa-volume-mute"></i>
    </button>
    <audio id="bg-music" loop>
        <source src="https://cdn.pixabay.com/audio/2023/01/24/audio_e32549db3c.mp3" type="audio/mpeg" />
        您的瀏覽器不支援音訊播放。
    </audio>

    <header>
        ENYOUSHIOU
        <span>photography</span>
    </header>

    <nav>
        <div class="social-icons" aria-label="社群連結">
            <a
                href="https://www.instagram.com/en_yoshiou0910?igsh=c2Fzb3k5amFsNjl1"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Instagram"
                ><i class="fab fa-instagram"></i
            ></a>
            <a
                href="https://www.facebook.com/share/19VLsbAFs8/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Facebook"
                ><i class="fab fa-facebook"></i
            ></a>
        </div>
        <div class="nav-links" role="navigation" aria-label="主要導覽列">
            <a href="#home" onclick="showSection('home')">Home</a>
            <a href="#about" onclick="showSection('about')">About</a>
            <a href="#assignment" onclick="showSection('assignment')">Assignment</a>
            <a href="#reviews" onclick="showSection('reviews')">Reviews</a>
            <a href="#contact" onclick="showSection('contact')">Contact</a>
        </div>
    </nav>

    <main id="main-content">
        <section id="home-section" class="content-section active">
            <h1>歡迎來到 ENYOUSHIOU 的攝影世界</h1>
            <p>這裡有我的攝影作品集，包括校園景色、北海道旅行與日常快拍。</p>
            <p>滑動查看每組主題，每 10 秒自動輪播。</p>

            <div class="carousel-container-outer" aria-label="照片輪播區塊">
                <div class="carousel" id="carousel1" aria-live="polite" aria-atomic="true">
                    <div class="carousel-item active">
                        <img
                            src="/enphotos/img/20250526_183854.jpg"
                            alt="指南路二段走九遍"
                            draggable="false"
                        />
                        <div class="caption">
                            <h3>指南路二段走九遍</h3>
                            <p>指南路二段走九遍，中午要吃什麼......人生好難</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/20250514_093256.jpg" alt="校巴司機" draggable="false" />
                        <div class="caption">
                            <h3>校巴司機</h3>
                            <p>
                                校巴司機真的是有在狠的，連轉彎都依舊踩著油門，每次搭都覺得在練核心，不得不佩服司機跟自己XD
                            </p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/20250609_194947.jpg" alt="政大限定" draggable="false" />
                        <div class="caption">
                            <h3>政大限定</h3>
                            <p>
                                政大特色，潮濕到極點的雨天，使人發悶，奇摩子不蘇胡。你並不孤單，因為我也曾逃不出來過，但跟一些政大人相處，你會漸漸看到許多溫暖的光，值得感恩TT
                            </p>
                        </div>
                    </div>
                </div>

                <div class="carousel" id="carousel2" style="display: none;" aria-live="polite" aria-atomic="true">
                    <div class="carousel-item active">
                        <img src="/enphotos/img/DSC09369.jpg" alt="悸動時刻🧡🫀👧🏻" draggable="false" />
                        <div class="caption">
                            <h3>悸動時刻🧡🫀👧🏻</h3>
                            <p>
                                不經意的驚喜，在電梯門打開的那一刻現身<br />
                                當下…愣住<br />
                                廣闊的粉橘色晚霞 溫暖輕柔的包覆著山頭<br />
                                好美…… 悸動到好想哭<br />
                                心彷彿早已在剛剛，隨著電梯門慢慢敞開了<br />
                                你也有使你感動的那個時刻嗎？<br />
                                #悸動 #感動 #わくわく #touching #時刻 #じこく #moment<br />
                                #fujifilm #quicksnap #simpleace
                            </p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/1738766066832.jpg" alt="迷失在札幌 PM 10:00 🌃" draggable="false" />
                        <div class="caption">
                            <h3>迷失在札幌 PM 10:00 🌃</h3>
                            <p>
                                手機沒電、沒導航、身上沒什麼錢<br />
                                一人迷失在札幌、深思回飯店的路<br />
                                那個時刻莫名有種無助感、想哭<br />
                                即便這個迷失比迷茫還不可怕多啦<br />
                                一邊思索等等要去找人求助，一邊憑著印象走過好多街道<br />
                                似乎看過的大樓、店家、方位…<br />
                                看到眼前的曙光<br />
                                - 札幌の夜に迷い込む PM 10:00 -<br />
                                スマホの電池が切れ、ナビも使えず、財布にもほとんどお金がない。<br />
                                一人で札幌で迷子になって、ホテルに帰る道を考えながら歩く。<br />
                                その時、何故か無力感が込み上げてきて、涙が出そうだった。<br />
                                それでも、この迷子の状態は、迷いよりも怖くないってわかっている。<br />
                                助けを求めに行こうかと考えながらも、記憶を頼りに街を歩く。<br />
                                目の前に差し込む希望の光をみつけた。<br />
                                - Lost in Sapporo PM10:00 -<br />
                                No battery, no navigation, no money to spare.<br />
                                I was lost in Sapporo, trying to figure out the way back to my hotel.<br />
                                At that moment, a strange sense of helplessness overwhelmed me, and I felt like crying.<br />
                                Even this kind of being lost was far less terrifying than true confusion.<br />
                                As I pondered whether to ask for help, I walked down several streets, relying on my memory.<br />
                                And then, I saw the light of dawn before me.
                            </p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/20250119_160632.jpg" alt="初心者の挑戦🫀🙋🏻‍♀️" draggable="false" />
                        <div class="caption">
                            <h3>初心者の挑戦🫀🙋🏻‍♀️</h3>
                            <p>
                                是緊張害怕，還是興奮？你也是嗎？我也不知道…<br />
                                躍躍欲試，又怕後悔莫及<br />
                                不 Try Try 看怎麼知道？走吧！<br /><br />
                                - 初心者の挑戦🫀 -<br />
                                緊張と不安、それとも興奮？あなたもそう？私にも分からない…<br />
                                やってみたくてたまらないけど、後悔しそうで怖い。<br />
                                試してみなければ分からないよね？行こう！<br /><br />
                                - A Beginner’s Attempt 🙋🏻‍♀️-<br />
                                Is it nervousness and fear, or excitement?<br />
                                Do you feel the same way?<br />
                                I don’t know either…<br />
                                Eager to try, yet afraid of regretting it.<br />
                                How would we know if we don’t give it a try?<br />
                                Let’s go!<br />
                                #初學者 #初心者 #beginner #嘗試 #挑戦 #try
                            </p>
                        </div>
                    </div>
                </div>

                <div class="carousel" id="carousel3" style="display: none;" aria-live="polite" aria-atomic="true">
                    <div class="carousel-item active">
                        <img src="/enphotos/img/img20250514_17054694.jpg" alt="我的老朋友🐢" draggable="false" />
                        <div class="caption">
                            <h3>我的老朋友🐢</h3>
                            <p>" 烏龜身體冰涼涼 烏龜最愛曬太陽" 媽媽口中哼的歌曲 是我與他的日常</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/1748318849195.jpg" alt="畢業祝福_情感" draggable="false" />
                        <div class="caption">
                            <h3>畢業祝福_情感</h3>
                            <p>
                                TÔI TỪ TRƯỚC ĐẾN NAY VẪN KHÔNG HIỂU TÌNH Bạn thật sự mà MÌNH MONG MUỐN LÀ NHƯ THẾ nào。<br />
                                (我一直以來都不了解我想要的真正的友誼是甚麼樣子)<br />
                                THÌ RA, TÌNH BẠN KHÔNG CHỈ LÀ CÙNG NHAU CƯỜI, mà CÒN CÓ THỂ CÙNG NHAU KHÓC, Có thể thoải mái bộc LỘ CON NGƯỜI THẬT, GIÚP ĐỠ LẪN NHAU và cÙNG NHAU TRƯỞNG THÀNH。<br />
                                (原來,友誼不只是一起笑,還可以一起哭,可以坦然地展現真實自己,互相幫助,一同成長)
                            </p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/enphotos/img/20250608_190721.jpg" alt="畢業祝福_享受比賽" draggable="false" />
                        <div class="caption">
                            <h3>畢業祝福_享受比賽</h3>
                            <p>比賽 最享受陶醉於舞台上的 就是贏家 #持修#那天不只一組是贏家啊!</p>
                        </div>
                    </div>
                </div>

                <div class="carousel-controls" role="group" aria-label="切換照片輪播主題">
                    <button onclick="showCarousel(1)" aria-pressed="true">校園景色</button>
                    <button onclick="showCarousel(2)" aria-pressed="false">北海道照片</button>
                    <button onclick="showCarousel(3)" aria-pressed="false">其他抓拍</button>
                </div>
            </div>
        </section>

        <section id="about-section" class="content-section">
            <h1>關於 ENYOUSHIOU</h1>
            <p>你好! Hello! こんにちは! Xin Chào!<br />
            我是亦大禾乃(本名:盧奕秀)<br />
            來自一個充滿寶藏的番薯島-臺灣</p>

            <p>攝影對我來說<br />
            是如同呼吸般的救贖<br />
            他帶領我探索自己 認識我是誰 這個世界<br />
            他在我大學四年 三度陪著我走出黑暗深淵<br />
            他讓我眼神有光 感受自己的豐沛情緒 並溫暖他人</p>

            <p>歡迎你來一窺我的攝影世界 ( ͡~ ͜ʖ ͡°)📸</p>

            <img class="about-photo" src="/enphotos/img/1748858740788.jpg" alt="Enyoushiou 本人照片" />

            <h3>興趣：</h3>
            <p>攝影、聽音樂、與人交流、看各式各樣MV的拍攝鏡頭、打籃球(但沒很厲害XDD)、看籃球比賽，尤其是國際賽事</p>
            <h3>欣賞且渴望有天能當摯友的人(請當笑話看就好)：</h3>
            <p>北村匠海、持修、曾敬驊、盧廣仲、藤井風、Lauv、劉人豪劇照師、郭源元、月島雯、小傑&奇犽、竈門炭治郎、Mike Wheeler.....(不及備載)</p>
            <h3>推薦的歌🎵❤️：</h3>
            <p>1. 持修&lt;你的眼睛&gt;&lt;血肉&gt;&lt;透明的&gt; (其實我想推薦全部阿...)</p>
            <p>2. Dish//&lt;Loop&gt;&lt;五明後日&gt; &lt;Henteko&gt;</p>
            <p>3. Lauv&lt;Tattoos Together&gt;</p>
            <p>4. 盧廣仲&lt;大人中&gt;&lt;手機仔&gt;&lt;一定要相信自己&gt;</p>
            <p>5. (一樣不及備載，歡迎交流)</p>
            <h3>喜歡的影劇&卡通🎬：</h3>
            <p>《不良執念清除師》、《怪奇物語》、《Hunter X Hunter》、《孟買女帝》、《蠟筆小新》</p>
        </section>

        <section id="assignment-section" class="content-section">
            <h1>小組與個人作品展示</h1>

            <div class="poster">
                <h2>小組海報</h2>
                <img src="/enphotos/img/小組海報（完）.jpg" alt="小組海報" />
            </div>

            <div class="poster">
                <h2>PS海報個人練習</h2>
                <img src="/enphotos/img/我的未來4個迷 (1).png" alt="PS海報個人練習" />
            </div>

            <div class="video">
                <h2>Pr影片剪輯個人練習</h2>
                <iframe
                    src="https://www.youtube.com/embed/_nZQBTPDAO0?si=TKyblt4UUqB5DZUw"
                    title="Pr影片剪輯個人練習"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                ></iframe>
            </div>

            <div class="video">
                <h2>期末小組專題影片</h2>
                <iframe
		    src="https://www.youtube.com/embed/RJ6RWFvdEWg?si=xXOjZ9svaEGSUxEF"
                                    title="期末小組專題影片"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                ></iframe>
            </div>
        </section>

        <section id="reviews-section" class="content-section">
            <h1>留下您的寶貴建議</h1>
            <p>您的反饋對我非常重要！請花幾分鐘填寫這個問卷，幫助我改進和成長。</p>
            <iframe src="https://forms.gle/ZnJ7zYtTweofAcpT9" width="100%" height="700" frameborder="0" marginheight="0" marginwidth="0">載入中…</iframe>
        </section>

        <section id="contact-section" class="content-section">
            <h1>聯絡我</h1>
            <p>如果您有任何問題、合作邀約或只是想交流，歡迎透過以下方式聯絡我(@^0^)/</p>
            <div class="contact-info">
                <p>
                    <i class="fab fa-instagram"></i> Instagram:
                    <a href="https://www.instagram.com/en_yoshiou0910" target="_blank" rel="noopener noreferrer">@en_yoshiou0910 亦大禾乃</a>
                </p>
                <p>
                    <i class="fab fa-facebook"></i> Facebook:
                    <a href="https://www.facebook.com/share/19VLsbAFs8/" target="_blank" rel="noopener noreferrer">facebook.com/share/19VLsbAFs8/</a>
                </p>
                <p>
                    <i class="fas fa-envelope"></i> Email:
                    <a href="mailto:enyoshiou0910@gmail.com">enyoshiou0910@gmail.com</a>
                </p>
                </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 ENYOUSHIOU Photography. All rights reserved.</p>
    </footer>

    <script>
        // Music Playback Control
        const music = document.getElementById('bg-music');
        const musicBtn = document.querySelector('.music-toggle');
        const musicIcon = musicBtn.querySelector('i');

        let musicPlaying = localStorage.getItem('musicPlaying') === 'true';
        let musicTime = parseFloat(localStorage.getItem('musicTime')) || 0;

        // Attempt to play music on load if it was playing before
        if (musicPlaying) {
            music.currentTime = musicTime;
            music.play()
                .then(() => {
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-volume-up');
                    musicBtn.classList.add('playing');
                })
                .catch(error => {
                    console.log("自動播放被瀏覽器阻擋，請手動點擊播放按鈕。", error);
                    musicPlaying = false;
                    localStorage.setItem('musicPlaying', 'false');
                    musicIcon.classList.remove('fa-volume-up');
                    musicIcon.classList.add('fa-volume-mute');
                    musicBtn.classList.remove('playing');
                });
        } else {
            musicIcon.classList.remove('fa-volume-up');
            musicIcon.classList.add('fa-volume-mute');
            musicBtn.classList.remove('playing');
        }

        // Save current music time for continuity
        music.addEventListener('timeupdate', () => {
            if (musicPlaying) {
                localStorage.setItem('musicTime', music.currentTime.toString());
            }
        });

        // Toggle music play/pause
        function toggleMusic() {
            if (musicPlaying) {
                music.pause();
                musicIcon.classList.remove('fa-volume-up');
                musicIcon.classList.add('fa-volume-mute');
                musicBtn.classList.remove('playing');
                localStorage.setItem('musicPlaying', 'false');
            } else {
                music.play()
                    .then(() => {
                        musicIcon.classList.remove('fa-volume-mute');
                        musicIcon.classList.add('fa-volume-up');
                        musicBtn.classList.add('playing');
                        localStorage.setItem('musicPlaying', 'true');
                    })
                    .catch(error => {
                        console.log("播放失敗:", error);
                        alert("音樂播放被瀏覽器阻擋，請確認瀏覽器設定或手動點擊播放。");
                    });
            }
            musicPlaying = !musicPlaying;
        }

        // SPA Content Switching
        const navLinks = document.querySelectorAll('.nav-links a');
        const contentSections = document.querySelectorAll('.content-section');

        // Function to show a specific section and update active link
        function showSection(sectionId) {
            // Hide all sections
            contentSections.forEach(section => {
                section.classList.remove('active');
            });

            // Show the target section
            const targetSection = document.getElementById(sectionId + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
                // Scroll to top of the content area
                document.getElementById('main-content').scrollIntoView({ behavior: 'smooth' });
            }

            // Update active class on nav links
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + sectionId) {
                    link.classList.add('active');
                }
            });

            // Handle carousel re-initialization if navigating to home
            if (sectionId === 'home') {
                showCarousel(1); // Reset to first carousel group
            }

            // Update URL hash without reloading
            history.pushState(null, '', '#' + sectionId);
        }

        // Handle direct access via URL hash on load
        document.addEventListener('DOMContentLoaded', () => {
            const initialHash = window.location.hash.substring(1); // Remove '#'
            if (initialHash && document.getElementById(initialHash + '-section')) {
                showSection(initialHash);
            } else {
                showSection('home'); // Default to home if no valid hash
            }
        });

        // Handle back/forward button for hash changes
        window.addEventListener('popstate', () => {
            const currentHash = window.location.hash.substring(1);
            if (currentHash && document.getElementById(currentHash + '-section')) {
                showSection(currentHash);
            } else {
                showSection('home');
            }
        });


        // Carousel Functionality (for Home section)
        let currentGroup = 1;
        let currentIndex = 0;
        const carouselGroups = [
            null, // Index 0 is unused for 1-based indexing
            document.querySelectorAll('#carousel1 .carousel-item'),
            document.querySelectorAll('#carousel2 .carousel-item'),
            document.querySelectorAll('#carousel3 .carousel-item'),
        ];
        const carouselButtons = document.querySelectorAll('.carousel-controls button');
        let autoSlideInterval; // Variable to hold the interval ID

        function updateCarousel() {
            const items = carouselGroups[currentGroup];
            if (!items || items.length === 0) return; // Prevent errors if no items

            items.forEach((item, idx) => {
                item.classList.toggle('active', idx === currentIndex);
            });
            // Reset auto-slide timer when manually changing groups or slides
            clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(nextSlide, 10000);
        }

        function nextSlide() {
            const items = carouselGroups[currentGroup];
            if (!items || items.length === 0) return;

            currentIndex = (currentIndex + 1) % items.length;
            updateCarousel();
        }

        function showCarousel(groupNumber) {
            // Hide all carousels
            for (let i = 1; i <= 3; i++) {
                const carouselElement = document.getElementById('carousel' + i);
                if (carouselElement) {
                    carouselElement.style.display = 'none';
                }
                if (carouselButtons[i - 1]) {
                     carouselButtons[i - 1].setAttribute('aria-pressed', 'false');
                }
            }

            // Show the selected carousel
            const selectedCarousel = document.getElementById('carousel' + groupNumber);
            if (selectedCarousel) {
                selectedCarousel.style.display = 'block';
            }
            if (carouselButtons[groupNumber - 1]) {
                carouselButtons[groupNumber - 1].setAttribute('aria-pressed', 'true');
            }

            currentGroup = groupNumber;
            currentIndex = 0; // Reset slide index for the new group
            updateCarousel(); // Show the first slide of the new group and restart timer
        }

        // Initialize the carousel on page load if Home section is active
        // This is now called by showSection('home') on DOMContentLoaded
    </script>
</body>
</html>